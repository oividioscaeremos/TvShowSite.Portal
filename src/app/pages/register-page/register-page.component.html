<app-loading #loading></app-loading>
<body class="hold-transition dark-mode register-page sidebar-mini layout-top-nav">

    <div class="register-box">
        <div class="register-logo">
          <a href="/"><b>TvShow</b>Site</a>
        </div>
      
        <div class="card">
          <div class="card-body register-card-body">
            <p class="login-box-msg">Register a new membership</p>
            <div [formGroup]="loginFormGroup">
                <div class="w-100" *ngIf="showErrors && errorMessages.length > 0">
                    <ul>
                        <li *ngFor="let errorMessage of errorMessages">{{errorMessage}}</li>
                    </ul>
                </div>
              <div class="input-group mb-3">
                <input type="text" class="form-control" formControlName="username" placeholder="Username">
                <div class="input-group-append">
                  <div class="input-group-text">
                    <span class="fas fa-user"></span>
                  </div>
                </div>
                <div class="w-100" *ngIf="!loginFormGroup.controls['username'].valid && loginFormGroup.controls['username'].touched &&loginFormGroup.controls['username'].errors">
                    <ul>
                        <li *ngIf="loginFormGroup.controls['username'].errors?.['required']">Please enter a username.</li>
                        <li *ngIf="loginFormGroup.controls['username'].errors?.['maxLength']">Username must not be longer than 50 characters.</li>
                    </ul>
                </div>
              </div>
              <div class="input-group mb-3">
                <input type="email" class="form-control" formControlName="emailAddress" placeholder="Email">
                <div class="input-group-append">
                  <div class="input-group-text">
                    <span class="fas fa-envelope"></span>
                  </div>
                </div>
                <div class="w-100" *ngIf="!loginFormGroup.controls['emailAddress'].valid && loginFormGroup.controls['emailAddress'].touched && loginFormGroup.controls['emailAddress'].errors">
                    <ul>
                        <li *ngIf="loginFormGroup.controls['emailAddress'].errors?.['required']">Please enter a valid mail address.</li>
                        <li *ngIf="loginFormGroup.controls['emailAddress'].errors?.['pattern']">Mail address must be a valid address.</li>
                    </ul>
                </div>
              </div>
              <div class="input-group mb-3">
                <input type="password" class="form-control" formControlName="password" placeholder="Password">
                <div class="input-group-append">
                  <div class="input-group-text">
                    <span class="fas fa-lock"></span>
                  </div>
                </div>
                <div class="w-100" *ngIf="!loginFormGroup.controls['password'].valid && loginFormGroup.controls['password'].touched && loginFormGroup.controls['password'].errors">
                    <ul>
                        <li *ngIf="loginFormGroup.controls['password'].errors?.['required']">Please enter a password.</li>
                        <li *ngIf="loginFormGroup.controls['password'].errors?.['passwordDontMatch']">Passwords don't match.</li>
                    </ul>
                </div>
              </div>
              <div class="input-group mb-3">
                <input type="password" class="form-control" formControlName="passwordAgain" placeholder="Retype password">
                <div class="input-group-append">
                  <div class="input-group-text">
                    <span class="fas fa-lock"></span>
                  </div>
                </div>
                <div class="w-100" *ngIf="!loginFormGroup.controls['passwordAgain'].valid && loginFormGroup.controls['passwordAgain'].touched && loginFormGroup.controls['passwordAgain'].errors">
                    <ul>
                        <li *ngIf="loginFormGroup.controls['passwordAgain'].errors?.['required']">Please enter a password.</li>
                        <li *ngIf="loginFormGroup.controls['passwordAgain'].errors?.['passwordDontMatch']">Passwords don't match.</li>
                    </ul>
                </div>
              </div>
              <div class="row justify-content-end">
                  <button type="button" class="btn btn-primary btn-block" (click)="register()">Register</button>
              </div>
            </div>
            <a routerLink="/login" class="text-center">I already have a membership</a>
          </div>
          <!-- /.form-box -->
        </div><!-- /.card -->
      </div>
</body>